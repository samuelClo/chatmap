
# `sparted-server` [![CircleCI](https://circleci.com/gh/Sparted/Server.svg?style=svg&circle-token=4547846245f1ad88557ca6dcfad01b582c5b9158)](https://circleci.com/gh/Sparted/Server) [![codecov](https://codecov.io/gh/Sparted/Server/branch/dev/graph/badge.svg?token=qpXk7rAI4q)](https://codecov.io/gh/Sparted/Server)

The project is generated by [LoopBack](http://loopback.io).


## Branching Strategy

- Use kebab-case
- Use `pre-hotfix/{version}--{fix_description}` when naming a branch to merge into `hotfix/{version}`
- Use `feature/{feature_name}--{description_of_added_code}` when working on `{feature_name}`

### Hotfix
```sh
# For a hotfix on version 2.12.4
# Create a branch with the name of you fix:
pre-hotfix/fix-interseason-date
pre-hotfix/fix-export-leaderbord

# Create a PR with base
hotfix/2.12.4
```

### Release
```sh
# For a release fix on version 2.13.0
# Create a branch with the name of you fix:
pre-release/2.13.0--fix-banana-feature

# Create a PR with base
release/2.13.0
```

### Development
```sh
# For a development branch on feature battle
# Create a branch with the name of you fix:
feature/battle--show-battle-card

# Create a PR with base
feature/battle
```

## Toolbox

```bash
# Install dependencies
$ yarn
# Start a db in background
$ docker-compose start postgres
# Run in development environment
$ yarn dev
# ssh into test instance
$ yarn ssh test2
# Connect to log file (Needs pip install awslogs --user)
$ yarn log startcultura
```

## Coverage [![codecov](https://codecov.io/gh/Sparted/Server/branch/dev/graph/badge.svg?token=qpXk7rAI4q)](https://codecov.io/gh/Sparted/Server)

```
$ yarn coverage
=============================================================================
Writing coverage object [/Server/coverage/coverage.json]
Writing coverage reports at [/Server/coverage]
=============================================================================

=============================== Coverage summary ===============================
Statements   : 41.33% ( 560/1355 )
Branches     : 14.87% ( 47/316 )
Functions    : 24.44% ( 121/495 )
Lines        : 41.28% ( 556/1347 )
================================================================================
```
